/*Set libraries*/
LIBNAME proj "C:\Users\jessr\OneDrive\Desktop\MPS Project\randhrs1992_2020v1_SAS";
LIBNAME library "C:\Users\jessr\OneDrive\Desktop\MPS Project\randhrs1992_2020v1_SAS";

/*Load formats*/
proc format cntlin=proj.sasfmts;
quit;

/*Read-in data*/
DATA hrs;
	SET proj.randhrs1992_2020v1;
	KEEP HHIDPN RABYEAR RABMONTH RABDATE R1GOVMR R2GOVMR R3GOVMR R4GOVMR R5GOVMR R6GOVMR R7GOVMR R8GOVMR R9GOVMR R10GOVMR
		R11GOVMR R12GOVMR R13GOVMR R14GOVMR R15GOVMR R1WTRESP R2WTRESP R3WTRESP R4WTRESP R5WTRESP R6WTRESP R7WTRESP R8WTRESP
		R9WTRESP R10WTRESP R11WTRESP R12WTRESP R13WTRESP R14WTRESP H1ATOTF H2ATOTF H3ATOTF H4ATOTF H5ATOTF H6ATOTF H7ATOTF
		H8ATOTF H9ATOTF H10ATOTF H11ATOTF H12ATOTF H13ATOTF H14ATOTF H15ATOTF R2SHLTC R3SHLTC R4SHLTC R5SHLTC R6SHLTC R7SHLTC
		R8SHLTC R9SHLTC R10SHLTC R11SHLTC R12SHLTC R13SHLTC R14SHLTC R15SHLTC R8CONDS R9CONDS R1HOMCAR R2HOMCAR R3HOMCAR R4HOMCAR 
        R5HOMCAR R6HOMCAR R7HOMCAR R8HOMCAR R9HOMCAR R10HOMCAR R11HOMCAR R12HOMCAR R13HOMCAR R14HOMCAR R15HOMCAR R2DRUGS R3DRUGS 
        R4DRUGS R5DRUGS R6DRUGS R7DRUGS R8DRUGS R9DRUGS R10DRUGS R11DRUGS R12DRUGS R13DRUGS R14DRUGS R15DRUGS R2OUTPT R3OUTPT R4OUTPT 
        R5OUTPT R6OUTPT R7OUTPT R8OUTPT R9OUTPT R10OUTPT R11OUTPT R12OUTPT R13OUTPT R14OUTPT R15OUTPT R2SPCFAC R3SPCFAC R4SPCFAC R5SPCFAC 
        R6SPCFAC R7SPCFAC R8SPCFAC R9SPCFAC R10SPCFAC R11SPCFAC R12SPCFAC R13SPCFAC R14SPCFAC R15SPCFAC R2OOPMD R3OOPMD R4OOPMD R5OOPMD 
        R6OOPMD R7OOPMD R8OOPMD R9OOPMD R10OOPMD R11OOPMD R12OOPMD R13OOPMD R14OOPMD R15OOPMD R1ISRET R2ISRET R3ISRET R4ISRET R5ISRET 
        R6ISRET R7ISRET R8ISRET R9ISRET R10ISRET R11ISRET R12ISRET R13ISRET R14ISRET R15ISRET H1ADEBT H2ADEBT H3ADEBT H4ADEBT H5ADEBT 
        H6ADEBT H7ADEBT H8ADEBT H9ADEBT H10ADEBT H11ADEBT H12ADEBT H13ADEBT H14ADEBT H15ADEBT RASSRECV R4DCBAL1 R5DCBAL1 R6DCBAL1 R7DCBAL1
		R8DCBAL1 R9DCBAL1 R10DCBAL1 R11DCBAL1 R12DCBAL1 R13DCBAL1 R14DCBAL1 R15DCBAL1 R4DCBAL2 R5DCBAL2 R6DCBAL2 R7DCBAL2 R8DCBAL2 R9DCBAL2 
        R10DCBAL2 R11DCBAL2 R12DCBAL2 R13DCBAL2 R14DCBAL2 R15DCBAL2 R4DCBAL3 R5DCBAL3 R6DCBAL3 R7DCBAL3 R8DCBAL3 R9DCBAL3 R10DCBAL3 R11DCBAL3
		R12DCBAL3 R13DCBAL3 R14DCBAL3 R15DCBAL3 R5DCBAL4 R6DCBAL4 R7DCBAL4 R8DCBAL4 R9DCBAL4 R10DCBAL4 R11DCBAL4 R12DCBAL4
		R13DCBAL4 R14DCBAL4 R15DCBAL4 S4DCBAL1 S5DCBAL1 S6DCBAL1 S7DCBAL1 S8DCBAL1 S9DCBAL1 S10DCBAL1 S11DCBAL1 S12DCBAL1 S13DCBAL1
		S14DCBAL1 S15DCBAL1 S4DCBAL2 S5DCBAL2 S6DCBAL2 S7DCBAL2 S8DCBAL2 S9DCBAL2 S10DCBAL2 S11DCBAL2 S12DCBAL2 S13DCBAL2 S14DCBAL2
		S15DCBAL2 S4DCBAL3 S5DCBAL3 S6DCBAL3 S7DCBAL3 S8DCBAL3 S9DCBAL3 S10DCBAL3 S11DCBAL3 S12DCBAL3 S13DCBAL3 S14DCBAL3 S15DCBAL3
		S5DCBAL4 S6DCBAL4 S7DCBAL4 S8DCBAL4 S9DCBAL4 S10DCBAL4 S11DCBAL4 S12DCBAL4 S13DCBAL4 S14DCBAL4 S15DCBAL4 H4AIRA H5AIRA
		H6AIRA H7AIRA H8AIRA H9AIRA H10AIRA H11AIRA H12AIRA H13AIRA H14AIRA H15AIRA H4ASTCK H5ASTCK H6ASTCK H7ASTCK H8ASTCK H9ASTCK H10ASTCK
		H11ASTCK H12ASTCK H13ASTCK H14ASTCK H15ASTCK H4ACHCK H5ACHCK H6ACHCK H7ACHCK H8ACHCK H9ACHCK H10ACHCK H11ACHCK H12ACHCK
		H13ACHCK H14ACHCK H15ACHCK H4ACD H5ACD H6ACD H7ACD H8ACD H9ACD H10ACD H11ACD H12ACD H13ACD H14ACD H15ACD H4ABOND H5ABOND H6ABOND H7ABOND
		H8ABOND H9ABOND H10ABOND H11ABOND H12ABOND H13ABOND H14ABOND H15ABOND H4AOTHR H5AOTHR H6AOTHR H7AOTHR H8AOTHR H9AOTHR H10AOTHR H11AOTHR
		H12AOTHR H13AOTHR H14AOTHR H15AOTHR R1HSPNIT R2HSPNIT R3HSPNIT R4HSPNIT R5HSPNIT R6HSPNIT R7HSPNIT R8HSPNIT R9HSPNIT R10HSPNIT R11HSPNIT
        R12HSPNIT R13HSPNIT R14HSPNIT R15HSPNIT R1NRSNIT R2NRSNIT R3NRSNIT R4NRSNIT R5NRSNIT R6NRSNIT R7NRSNIT R8NRSNIT R9NRSNIT R10NRSNIT R11NRSNIT
		R12NRSNIT R13NRSNIT R14NRSNIT R15NRSNIT R1DOCTIM R2DOCTIM R3DOCTIM R4DOCTIM R5DOCTIM R6DOCTIM R7DOCTIM R8DOCTIM R9DOCTIM R10DOCTIM R11DOCTIM
        R12DOCTIM R13DOCTIM R14DOCTIM R15DOCTIM R4DIABS R5DIABS R6DIABS R7DIABS R8DIABS R9DIABS R10DIABS R11DIABS R12DIABS R13DIABS R14DIABS R15DIABS
        R4CANCRS R5CANCRS R6CANCRS R7CANCRS R8CANCRS R9CANCRS R10CANCRS R11CANCRS R12CANCRS R13CANCRS R14CANCRS R15CANCRS R4HIBPS R5HIBPS R6HIBPS R7HIBPS
        R8HIBPS R9HIBPS R10HIBPS R11HIBPS R12HIBPS R13HIBPS R14HIBPS R15HIBPS R4LUNGS R5LUNGS R6LUNGS R7LUNGS R8LUNGS R9LUNGS R10LUNGS R11LUNGS R12LUNGS
        R13LUNGS R14LUNGS R15LUNGS R4HEARTS R5HEARTS R6HEARTS R7HEARTS R8HEARTS R9HEARTS R10HEARTS R11HEARTS R12HEARTS R13HEARTS R14HEARTS R15HEARTS
        R4STROKS R5STROKS R6STROKS R7STROKS R8STROKS R9STROKS R10STROKS R11STROKS R12STROKS R13STROKS R14STROKS R15STROKS R4PSYCHS R5PSYCHS R6PSYCHS
        R7PSYCHS R8PSYCHS R9PSYCHS R10PSYCHS R11PSYCHS R12PSYCHS R13PSYCHS R14PSYCHS R15PSYCHS R4ARTHRS R5ARTHRS R6ARTHRS R7ARTHRS R8ARTHRS R9ARTHRS
        R10ARTHRS R11ARTHRS R12ARTHRS R13ARTHRS R14ARTHRS R15ARTHRS;
RUN;

/*Check everything is created correctly*/
PROC CONTENTS data=hrs varnum;
RUN;

/*Select a random subset*/
proc surveyselect data=hrs
    out=proj.hrs_sample
    method=srs 
    sampsize=5000
    seed=123; 
run;

/*Export as csv*/
proc export data=proj.hrs_sample
    outfile="C:\Users\jessr\OneDrive\Desktop\MPS Project\randhrs1992_2020v1_SAS\hrs_sample.csv"
    dbms=csv
    replace;
run;


proc export data=hrs
    outfile="C:\Users\jessr\OneDrive\Desktop\MPS Project\randhrs1992_2020v1_SAS\hrs_new.csv"
    dbms=csv
    replace;
run;
