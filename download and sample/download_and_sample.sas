/*Set libraries*/
LIBNAME proj "C:\Users\jessr\OneDrive\Desktop\MPS Project\randhrs1992_2020v1_SAS";
LIBNAME library "C:\Users\jessr\OneDrive\Desktop\MPS Project\randhrs1992_2020v1_SAS";

/*Load formats*/
proc format cntlin=proj.sasfmts;
quit;

/*Read-in data*/
DATA hrs;
	SET proj.randhrs1992_2020v1;
	KEEP HHIDPN RABYEAR RABMONTH RABDATE R1GOVMR R2GOVMR R3GOVMR R4GOVMR R5GOVMR R6GOVMR R7GOVMR R8GOVMR R9GOVMR R10GOVMR
		R11GOVMR R12GOVMR R13GOVMR R14GOVMR R15GOVMR R1WTRESP R2WTRESP R3WTRESP R4WTRESP R5WTRESP R6WTRESP R7WTRESP R8WTRESP
		R9WTRESP R10WTRESP R11WTRESP R12WTRESP R13WTRESP R14WTRESP H1ATOTF H2ATOTF H3ATOTF H4ATOTF H5ATOTF H6ATOTF H7ATOTF
		H8ATOTF H9ATOTF H10ATOTF H11ATOTF H12ATOTF H13ATOTF H14ATOTF H15ATOTF R1ISSI R2ISSI R3ISSI R4ISSI R5ISSI R6ISSI
		R7ISSI R8ISSI R9ISSI R10ISSI R11ISSI R12ISSI R13ISSI R14ISSI R15ISSI R2SHLTC R3SHLTC R4SHLTC R5SHLTC R6SHLTC R7SHLTC
		R8SHLTC R9SHLTC R10SHLTC R11SHLTC R12SHLTC R13SHLTC R14SHLTC R15SHLTC R2CONDS R3CONDS R4CONDS R5CONDS R6CONDS R7CONDS
		R8CONDS R9CONDS R10CONDS R11CONDS R12CONDS R13CONDS R14CONDS R15CONDS R1HOSP R2HOSP R3HOSP R4HOSP R5HOSP R6HOSP
		R7HOSP R8HOSP R9HOSP R10HOSP R11HOSP R12HOSP R13HOSP R14HOSP R15HOSP R1NRSHOM R2NRSHOM R3NRSHOM R4NRSHOM R5NRSHOM
		R6NRSHOM R7NRSHOM R8NRSHOM R9NRSHOM R10NRSHOM R11NRSHOM R12NRSHOM R13NRSHOM R14NRSHOM R15NRSHOM R1DOCTOR
		R2DOCTOR R3DOCTOR R4DOCTOR R5DOCTOR R6DOCTOR R7DOCTOR R8DOCTOR R9DOCTOR R10DOCTOR R11DOCTOR R12DOCTOR R13DOCTOR
		R14DOCTOR R15DOCTOR REHPCSTY R1HOMCAR R2HOMCAR R3HOMCAR R4HOMCAR R5HOMCAR R6HOMCAR R7HOMCAR R8HOMCAR R9HOMCAR R10HOMCAR
		R11HOMCAR R12HOMCAR R13HOMCAR R14HOMCAR R15HOMCAR R2DRUGS R3DRUGS R4DRUGS R5DRUGS R6DRUGS R7DRUGS R8DRUGS R9DRUGS
		R10DRUGS R11DRUGS R12DRUGS R13DRUGS R14DRUGS R15DRUGS R2OUTPT R3OUTPT R4OUTPT R5OUTPT R6OUTPT R7OUTPT R8OUTPT R9OUTPT
		R10OUTPT R11OUTPT R12OUTPT R13OUTPT R14OUTPT R15OUTPT R7DENTST R8DENTST R9DENTST R10DENTST R11DENTST R12DENTST
		R13DENTST R14DENTST R15DENTST R2SPCFAC R3SPCFAC R4SPCFAC R5SPCFAC R6SPCFAC R7SPCFAC R8SPCFAC R9SPCFAC R10SPCFAC
		R11SPCFAC R12SPCFAC R13SPCFAC R14SPCFAC R15SPCFAC R2OOPMD R3OOPMD R4OOPMD R5OOPMD R6OOPMD R7OOPMD R8OOPMD R9OOPMD
		R10OOPMD R11OOPMD R12OOPMD R13OOPMD R14OOPMD R15OOPMD;

RUN;

/*Check everything is created correctly*/
PROC CONTENTS data=hrs varnum;
RUN;

/*Select a random subset*/
proc surveyselect data=hrs
    out=proj.hrs_sample
    method=srs 
    sampsize=5000
    seed=123; 
run;

/*Export as csv*/
proc export data=proj.hrs_sample
    outfile="C:\Users\jessr\OneDrive\Desktop\MPS Project\randhrs1992_2020v1_SAS\hrs_sample.csv"
    dbms=csv
    replace;
run;
